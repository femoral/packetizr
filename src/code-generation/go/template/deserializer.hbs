package packets

import (
    "bytes"
    "encoding/binary"
)

type {{modelType}}Deserializer struct {
}

func New{{modelType}}Deserializer() *{{modelType}}Deserializer {
    return &{{modelType}}Deserializer{}
}

func (r *{{modelType}}Deserializer) Deserialize(messageBytes []byte) *{{modelType}} {
    buffer := bytes.NewBuffer(messageBytes)
    message := &{{modelType}}{}

{{#each fields as |field|~}}
{{~#if field.isNumeric}}
    {{> deserializer-numeric field}}
{{/if}}
{{~#if field.isVarchar}}
    {{> deserializer-varchar field}}
{{/if}}
{{~#if field.isChar}}
    {{> deserializer-char field}}
{{/if}}

{{/each}}

    return message
}
